СКРИПТЫ ЗАПУСКА КОМАНД РАЗДЕЛЕНИЯ КЛЮЧЕЙ ПТК ДЭГ

Рекомендуется использовать в операционной система Astra Linux 1.7

Для запуска необходимо:
- Установить КриптоПро CSP 5.0
- Установить эфемерный считыватель EPHEMERICAL

Убедиться в соответствии контрольной суммы размещенным публично данным командой gostsum Scripts.zip

РАЗДЕЛЕНИЕ КЛЮЧЕЙ
Установить имя резделяемого контейнера командой
    . ./Scripts/keys/cont-name-set.sh

Запустить генерацию фрагментов закрытого ключа командой
    ./Scripts/keys/generate-private-key
    В качестве параметро можно указать количество фрагментов, достаточнх для сборки и количество фрагментов разделения (по умолчанию - 5 и 7 соответственно)
    ./Scripts/keys/generate-private-key 5 7
    выбрать носители для записи фрагментов в графическом интерфейсе КриптоПро CSP

Выполнить экспортирование публичного ключа (зашифрования) командой 
    ./Scripts/keys/export-public-key.sh
    Файл публичного ключа будет создан в директории выолнения скрипта с именем <имя контейнера>.pub_key

СБОРКА КЛЮЧА
Установить имя собираемого контейнера (должно совпадать с разделённым) командой 
    ./Scripts/keys/cont-name-set.sh

Запустить процедуру сборки командой
    ./Scripts/keys/collect-private-key.sh 

ЗАГРУЗКА КЛЮЧА В HSM
Выполнить подключение к HSM командой
    sudo ./Scripts/hsm/hsm_connect.sh

Выполнить копирование командой
    ./Scripts/hsm/upload-private-key.sh

Проверить загрузку командой
    ./Scripts/hsm/show-keys.sh